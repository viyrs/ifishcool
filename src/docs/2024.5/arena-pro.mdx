---
title: 让神岛支持TypeScript开发
meta: 神奇代码岛 · VSCode 插件 · 工程化脚手架
desc: 从神奇代码岛内置编辑器的限制出发，和官方一起打通 VSCode，让项目的开发体验接近专业游戏体验。
timeline: 2024.05
---

我和 AmC 打算搞一个新项目，里面会涉及很多玩法，当然神岛自带的代码编辑器写起来很吃力，因为它只支持 JS 编写，代码没有高亮。文件是扁平化的，无法跨文件跳转，对于中大型项目，写来非常吃力，调试 BUG 非常难受，浪费一大堆时间，所以萌生了能不能用 VSCode 编辑器来写。

## 和官方合作：打通 VSCode 接口

由于我们在平台也算是知名的创作者，很容易地就联系上官方，把我们的想法说了，官方表示可以帮我们开个接口，我们自己搞适配。

官方也是很给力，在技术同学也有任务的情况下，很快帮我们搞出来了接口，这些接口可以把指定代码文件同步到编辑器，非常方便，不用手动上传了。

同时，我们在考虑自己使用方便外，还考虑其他小创作者的使用，所以优先考虑的是以**插件**的形式制作，而不是 CLI，希望更多小创作者可以一起来使用。

![](https://cdn-community.bcmcdn.com/47/community/1YGId7hxy4kZC6gvCpeIwW3Vyk6pluZpVyh6uK22TUf7.png?hash=FuiLkUQAJdSAC1GD56dhRqP0_Fls)

## 搭建脚手架：把复杂度藏在工程里

首先，我们先策划了脚手架长啥样，我们请来了专业的游戏工程师和官方的架构同学，出了一个基础工程，然后根据这个工程，开始制作插件。

插件默认是封装了复杂的配置文件，暴露简单的配置文件，让用户更快更好地上手。

这个脚手架工程是 TypeScript + Webpack + I18n + Prettier + ESLint + Husky 组成的，很原始，但也是非常成熟的架构：

![](https://cdn-community.bcmcdn.com/47/community/2romwK5HNikzUSE9Uyn0bzZE02iTq6gYvfHcNTe1zOIC.png?hash=FnRrzcpxggjNo8Vp_9Om6dS-KasN)

里面分为服务端和客户端脚本，两个可以互相调用但又互不影响，每个端口脚本提示的 API 都不一样，这些我们都封装起来了，让用户可以开箱即用，更好。

## 三个月公测：从插件到“官方标配”

从此，开启了长达 3 个月的公测时期，我们还不断完善文档，尽力降低门槛，让用户快速上手。用户的实际体验效果我们都有收集，不断优化体验和完善功能，最终到达正式版，每个功能都非常好用。同时也成为了官方游戏工作室必备的开发工具。

![](https://cdn-community.bcmcdn.com/47/community/HVVwyVtHn6GMod5Zu3Yp8A3LgFdjbHKqMgZmpOmQyOMp.png?hash=FkQHMPZyjDw7d5li3lyoKIZhg7tK)

这个插件，可以让用户无需进入游戏编辑端，就可以直接获取到游戏里面的资源数据，并支持一键插入，TS 脚本语法检查等，都是最大力度保证代码规范，不出错。

很多人表示，VSCode 本身就非常成熟，再结合插件，给我们的编写代码带来非常大的效率提升，减少了低级错误的次数，非常好。

截止 2025.12 月份，插件使用次数高达 1.7w 次，编译次数高达 10w 次。

文档：https://docs.box3lab.com/arenapro/
