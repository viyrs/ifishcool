---
title: 把节点蓝图带进神奇代码岛
meta: 神奇代码岛 · 节点编辑器 · 低门槛创作
desc: 参考虚幻引擎蓝图，在神奇代码岛上做节点编辑器实验项目。
timeline: 2024.03
---

这个是我参考虚幻引擎的蓝图制作编辑器，就是想测试一下节点这种形式是否符合神岛的用户需求，是否好用，也算是一个测试项目。

这个想法最初的几个出发点：

- 看看在神奇代码岛里，**用节点拖拽代替直接写 JS**，是不是能降低创作者门槛；
- 验证“蓝图式编辑”在这个社区里到底好不好用、接受度怎样；
- 顺便给自己一个机会练练手：从零搭一套节点编辑器的基础架构。

## 名字从哪来：Noda 不是打错字

Noda 编辑器其实就是节点编辑器的意思，不知情的人都以为 `noda` 打错了，其实 `node` 是节点的意思。

因为神奇代码岛的产品通常都是包含 a 的，例如 **arena**、**voxa**，所以我干脆把 node 改成 **Noda 编辑器** 就对了：

- 保留了“节点 / node”的含义；
- 名字风格也和现有产品更统一，看起来更“同一个家族”。

## 核心思路：用节点封装 JS 代码

这个是基于神奇代码岛 JS 代码编辑器基础上进行封装的节点，通过链接节点，就可以快速生成代码，创作者无需关心代码就可以低门槛编写作品。

简单理解就是：

- 每个节点，对应一段已经封装好的 JS 逻辑；
- 节点之间的连线，表示执行顺序或数据流向；
- 编辑器在背后负责把这些节点拼成完整的 JS 代码，再丢回岛上的代码编辑环境里执行。

![](https://cdn-community.bcmcdn.com/47/community/3us4yPhzze40UCkO1Oe4UXv2HiRh4zTuQMLEVxwSbvVA.png?hash=FjRA8zui_R4EZyGzw2RmVhQ2Vn5Q)

![](https://cdn-community.bcmcdn.com/47/community/stVk3k77TxcKylQ9ppeMjObxmbOj63RpwPbVd88RB7Wk.jpg?hash=FqmueHkgVL53o9Hf5v5rPwf8qLVC)

## 技术栈：用前端常见工具堆出一套节点系统

这个项目技术栈是这样的：

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite + pnpm
- **UI 组件**：Konva（Canvas 渲染）+ React
- **状态管理**：基于 React hooks 和内置状态系统
- **代码质量**：ESLint + TypeScript + Jest

代码仓库：[https://gitee.com/box3lab/noda-editor](https://gitee.com/box3lab/noda-editor)

选择 Konva 做 UI，是因为节点编辑器对“连线、拖拽、缩放”这些交互要求比较高，Canvas 渲染会更灵活一些；
TypeScript 则是靠类型系统帮我稳住节点之间的输入输出约束，避免出现“线能连上但类型完全不对”的尴尬情况。

## 实际体验：复杂项目 vs 简单项目

经过测试，这个节点有利有弊：

- 对于**复杂的项目**，那不如直接写代码高效，上限高；
- 但对于**简单的项目**，用节点那是非常快的，因为节点已经封装了常用的代码，一个节点 ≈ 几十行代码；
- 还能通过拖拽生成相关节点，搭一个小逻辑的速度非常快。

![](https://cdn-community.bcmcdn.com/47/community/Ev0RpuLzLNQEAQCpVA5zT4CfPU44UnWdtNgcXRsaULXh.gif?hash=FiL2duophvIM6kW6aJzc8qk3y7lJ)

整体来看，它更适合：

- 原型验证：先用节点把流程“摊开”，确认无误后再考虑是否需要下沉到纯代码；
- 初学者 / 非程序员创作者：用节点帮他们度过“从零到一”的阶段，让作品先跑起来再说；
- 教学场景：老师可以通过节点图讲解逻辑结构，比一上来展示整页 JS 友好多了。

## 外部反馈：救星与质疑并存

这个项目用时 1 个月开发，包括封装 API 的时间。上线之后，收到了两类很典型的反馈：

- 很多人赞不绝口，表示是**不懂代码创作者的救星**，可以直接拖节点做东西；
- 当然也有一些负面讨论，说图形化不好，不如代码方便、精确、可控。

本质上，节点编程的初衷就是：

> 为了让初学者、非代码师快速上手，  
> 能在不懂复杂语法的前提下，先写出“能跑起来的简单逻辑”。

Noda 更多是给这类创作者准备的一块“跳板”。当他们愿意迈出下一步时，背后的 JS 代码也随时在那里等着他们去学习、去重构。
